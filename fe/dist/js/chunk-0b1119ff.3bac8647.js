(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b1119ff"],{"107c":function(e,t,r){var a=r("d039"),n=r("da84"),s=n.RegExp;e.exports=a((function(){var e=s("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},1276:function(e,t,r){"use strict";var a=r("2ba4"),n=r("c65b"),s=r("e330"),i=r("d784"),o=r("44e7"),c=r("825a"),l=r("1d80"),u=r("4840"),d=r("8aa5"),p=r("50c4"),h=r("577e"),f=r("dc4a"),b=r("4dae"),m=r("14c3"),g=r("9263"),v=r("9f7f"),x=r("d039"),w=v.UNSUPPORTED_Y,k=4294967295,y=Math.min,C=[].push,_=s(/./.exec),E=s(C),I=s("".slice),A=!x((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));i("split",(function(e,t,r){var s;return s="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var s=h(l(this)),i=void 0===r?k:r>>>0;if(0===i)return[];if(void 0===e)return[s];if(!o(e))return n(t,s,e,i);var c,u,d,p=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,v=new RegExp(e.source,f+"g");while(c=n(g,v,s)){if(u=v.lastIndex,u>m&&(E(p,I(s,m,c.index)),c.length>1&&c.index<s.length&&a(C,p,b(c,1)),d=c[0].length,m=u,p.length>=i))break;v.lastIndex===c.index&&v.lastIndex++}return m===s.length?!d&&_(v,"")||E(p,""):E(p,I(s,m)),p.length>i?b(p,0,i):p}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:n(t,this,e,r)}:t,[function(t,r){var a=l(this),i=void 0==t?void 0:f(t,e);return i?n(i,t,a,r):n(s,h(a),t,r)},function(e,a){var n=c(this),i=h(e),o=r(s,n,i,a,s!==t);if(o.done)return o.value;var l=u(n,RegExp),f=n.unicode,b=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(w?"g":"y"),g=new l(w?"^(?:"+n.source+")":n,b),v=void 0===a?k:a>>>0;if(0===v)return[];if(0===i.length)return null===m(g,i)?[i]:[];var x=0,C=0,_=[];while(C<i.length){g.lastIndex=w?0:C;var A,S=m(g,w?I(i,C):i);if(null===S||(A=y(p(g.lastIndex+(w?C:0)),i.length))===x)C=d(i,C,f);else{if(E(_,I(i,x,C)),_.length===v)return _;for(var O=1;O<=S.length-1;O++)if(E(_,S[O]),_.length===v)return _;C=x=A}}return E(_,I(i,x)),_}]}),!A,w)},"14c3":function(e,t,r){var a=r("c65b"),n=r("825a"),s=r("1626"),i=r("c6b6"),o=r("9263"),c=TypeError;e.exports=function(e,t){var r=e.exec;if(s(r)){var l=a(r,e,t);return null!==l&&n(l),l}if("RegExp"===i(e))return a(o,e,t);throw c("RegExp#exec called on incompatible receiver")}},8592:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"font-weight-bold fa-2x text-light"},[e._v("Publisher")]),t("hr",{staticClass:"mt-1"}),t("b-modal",{staticStyle:{height:"100px"},attrs:{id:"modal-add",size:"md",title:"Add Publisher","hide-footer":"","hide-header":"",centered:""},model:{value:e.showAddModal,callback:function(t){e.showAddModal=t},expression:"showAddModal"}},[t("label",{staticClass:"px-3 pt-2 pb-1",staticStyle:{"font-size":"20px",margin:"0px"}},[e._v(e._s(e.isEdit?"Edit publisher":"Add publisher"))]),t("b-row",{staticClass:"px-3"},[t("b-col",{attrs:{md:"12"}},[t("b-form-group",{attrs:{label:"Enter publisher name","label-for":"input-title"}},[t("b-form-textarea",{staticStyle:{height:"34px"},attrs:{required:"",placeholder:"Enter name",type:"text",id:"input-name"},model:{value:e.publisherName,callback:function(t){e.publisherName=t},expression:"publisherName"}})],1)],1),t("b-col",{attrs:{md:"12"}},[t("b-form-group",{attrs:{label:"Contact number","label-for":"input-title"}},[t("b-form-textarea",{staticStyle:{height:"34px"},attrs:{required:"",placeholder:"Phone number",type:"number",id:"input-phoneNumber"},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}})],1)],1),t("b-col",{attrs:{md:"12"}},[t("b-form-group",{attrs:{label:"Agency center code","label-for":"input-title"}},[t("b-form-textarea",{staticStyle:{height:"34px"},attrs:{required:"",placeholder:"Agency center code",type:"number",id:"input-agency"},model:{value:e.centerCode,callback:function(t){e.centerCode=t},expression:"centerCode"}})],1)],1),t("b-col",{attrs:{md:"12"}},[e.imgLoader?e._e():t("b-form-group",{attrs:{label:"Select Images","label-for":"input-images"}},[t("b-form-file",{attrs:{placeholder:"Choose files or drop them here","drop-placeholder":"Drop files here...",accept:".png,.jpg,.jpeg"},on:{input:e.handleImageSelection},model:{value:e.images,callback:function(t){e.images=t},expression:"images"}})],1),e.imgLoader?t("div",{staticClass:"spinner spinner-primary loader"}):e._e()],1),t("b-col",[t("div",{staticClass:"d-flex justify-content-end"},[t("b-button",{staticClass:"mb-2 mr-2",on:{click:function(t){return e.closeModal()}}},[e._v("Close")]),t("b-button",{staticClass:"mb-2",attrs:{variant:"primary ripple"},on:{click:function(t){return e.addPublisher()}}},[e._v("Add")])],1)])],1)],1),e.loader?t("div",{staticClass:"spinner spinner-primary",attrs:{id:"loader"}}):e._e(),t("div",[t("button",{staticClass:"btn btn-primary mb-3",on:{click:function(t){e.showAddModal=!0}}},[e._v(" Add New ")]),t("div",[t("vue-good-table",{attrs:{columns:e.columns,"line-numbers":!1,"pagination-options":e.paginationOptions,styleClass:"tableOne vgt-table",rows:e.faqs},scopedSlots:e._u([{key:"table-row",fn:function(r){return["actions"===r.column.field?t("span",[t("span",{staticClass:"btn mr-2",on:{click:function(t){return e.clickEdit(r.row)}}},[t("i",{staticClass:"fa fa-pencil-square-o",attrs:{"aria-hidden":"true"}})]),t("span",{staticClass:"btn",on:{click:function(t){return e.clickDelete(r.row.id)}}},[t("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})])]):e._e()]}}])})],1)])],1)},n=[],s=r("c7eb"),i=r("1da1"),o=(r("d3b7"),r("ac1f"),r("1276"),r("a15b"),r("fb6a"),{data:function(){return{faqs:[],showAddModal:!1,showAddModalEdit:!1,editFAQData:{id:null,title:"",description:"",category:"Please Selected Category"},category:"Please Selected Category",loader:!1,imgLoader:!1,centerCode:"",phoneNumber:"",publisherName:"",user_id:"",updateId:"",uplodedImages:"",images:null,isEdit:!1,columns:[{label:"UserName",field:"user_name"},{label:"Contact number",field:"contact_number"},{label:"Agency code",field:"agency_center_code"},{label:"Actions",sortable:!1,field:"actions",width:"150px",formatFn:function(){return'\n              <span class="btn mr-2"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></span>\n              <span class="btn"><i class="fa fa-trash" aria-hidden="true"></i></span>\n            '}}],paginationOptions:{enabled:!0,mode:"recordsPerPage",perPageDropdown:[10,20,50],nextLabel:"Next",prevLabel:"Previous"}}},mounted:function(){this.addCssRule()},computed:{containerClasses:function(){return{"large-container":this.isLarge,"important-container":this.isImportant}}},created:function(){var e=localStorage.getItem("accesstoken");e?this.fetchUser(e):console.log("No access token found in local storage"),this.fetchPublisher(),this.addCssRule()},methods:{fetchPublisher:function(){var e=this;return Object(i["a"])(Object(s["a"])().mark((function t(){var r;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loader=!0,t.prev=1,t.next=4,new Promise((function(t,r){e.$apiService.getCall("publisher/get-all/").then((function(e){return t(e)})).catch((function(e){return r(e)}))}));case 4:r=t.sent,console.log(r),r.error?e.$toaster.makeToast("warning",r.message):(e.faqs=r.apidata.data,e.$toaster.makeToast("success","publisher data get successfully")),e.loader=!1,t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](1),e.loader=!1,console.error(t.t0),e.$toaster.makeToast("warning","Error: Server Error");case 15:case"end":return t.stop()}}),t,null,[[1,10]])})))()},fetchUser:function(e){var t=this;return Object(i["a"])(Object(s["a"])().mark((function r(){var a,n;return Object(s["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.loader=!0,r.prev=1,a={Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},r.next=5,new Promise((function(e,r){t.$apiService.getCall("user/user-by-id/",{headers:a}).then((function(t){return e(t)})).catch((function(e){return r(e)}))}));case 5:n=r.sent,"Invalid token"===n.message?t.$toaster.makeToast("warning",n.message):(t.loader=!1,t.user_id=n.apidata.data._id),r.next=14;break;case 9:r.prev=9,r.t0=r["catch"](1),t.loader=!1,console.error(r.t0),t.$toaster.makeToast("warning","An error occurred while fetching the user");case 14:case"end":return r.stop()}}),r,null,[[1,9]])})))()},handleImageSelection:function(){var e=this;return Object(i["a"])(Object(s["a"])().mark((function t(){var r,a;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.imgLoader=!0,t.prev=1,r=new FormData,r.append("image",e.images),t.next=6,new Promise((function(t,a){e.$apiService.postCall("util/image/",r).then((function(e){return t(e)})).catch((function(e){return a(e)}))}));case 6:a=t.sent,console.log("Image upload failed",a),a.error?(e.imgLoader=!1,e.$toaster.makeToast("warning",a.message)):(e.imgLoader=!1,e.uplodedImages=a.apidata.url,e.$toaster.makeToast("success","Image upload successfully")),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](1),e.imgLoader=!1,e.$toaster.makeToast("warning","Error: Server Error");case 15:case"end":return t.stop()}}),t,null,[[1,11]])})))()},truncateDescription:function(e){var t=e.split(" ");return t.length>13?t.slice(0,13).join(" ")+"...":e},addPublisher:function(){var e=this;return Object(i["a"])(Object(s["a"])().mark((function t(){var r,a;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.images&&e.phoneNumber&&e.centerCode&&e.publisherName){t.next=4;break}return e.$toaster.makeToast("warning","Please fill in all the required fields"),setTimeout((function(){return e.errorMessage=""}),2e3),t.abrupt("return");case 4:if(!e.isEdit){t.next=8;break}e.editPublisher(),t.next=22;break;case 8:return e.loader=!0,t.prev=9,r={user_name:e.publisherName,contact_number:e.phoneNumber,agency_center_code:e.centerCode,icon:"this.uplodedImages",userId:e.user_id},t.next=13,e.$apiService.postCall("publisher/create/",r);case 13:a=t.sent,a.error?(e.loader=!1,e.$toaster.makeToast("warning",a.message)):(e.isEdit=!1,e.showAddModal=!1,e.loader=!1,e.$toaster.makeToast("success","Data added successfully")),t.next=22;break;case 17:t.prev=17,t.t0=t["catch"](9),e.fetchPublisher(),e.loader=!1,e.$toaster.makeToast("warning","Error: Server Error");case 22:case"end":return t.stop()}}),t,null,[[9,17]])})))()},editPublisher:function(){var e=this;return Object(i["a"])(Object(s["a"])().mark((function t(){var r,a;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loader=!0,t.prev=1,r={user_name:e.publisherName,contact_number:e.phoneNumber,agency_center_code:e.centerCode,icon:e.uplodedImages},t.next=5,e.$apiService.putCall("publisher/update-publisher-status/".concat(e.updateId),r);case 5:a=t.sent,a.error?(e.loader=!1,e.$toaster.makeToast("warning",a.message)):(e.isEdit=!1,e.showAddModal=!1,e.loader=!1,e.$toaster.makeToast("success","Data update successfully")),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),e.loader=!1,e.$toaster.makeToast("warning","Error: Server Error");case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},clickEdit:function(e){this.updateId=e._id,this.centerCode=e.agency_center_code,this.phoneNumber=e.contact_number,this.publisherName=e.user_name,this.user_id=e._id,this.updateId=e._id,this.images=e.icon,this.showAddModal=!0,this.isEdit=!0},clickDelete:function(e){var t=this;return Object(i["a"])(Object(s["a"])().mark((function r(){var a,n;return Object(s["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$swal({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"});case 3:if(a=r.sent,!a.value){r.next=12;break}return t.loader=!0,r.next=8,t.$apiService.deleteCall("publisher/delete/".concat(e._id),null);case 8:n=r.sent,n.isError?console.error("Failed to delete publisher with "):(t.$toaster.makeToast("success","Your Publisher has been deleted"),t.loader=!1),r.next=13;break;case 12:console.log("Deletion canceled by user");case 13:r.next=18;break;case 15:r.prev=15,r.t0=r["catch"](0),console.error("Error deleting FAQ:",r.t0);case 18:case"end":return r.stop()}}),r,null,[[0,15]])})))()},closeModal:function(){this.isEdit=!1,this.showAddModal=!1},closeModalEdit:function(){this.showAddModalEdit=!1},addCssRule:function(){var e=document.createElement("style");e.type="text/css";var t="#modal-add___BV_modal_content_{  right: 0em !important;}";e.appendChild(document.createTextNode(t)),document.head.appendChild(e)}}}),c=o,l=(r("d1e2"),r("2877")),u=Object(l["a"])(c,a,n,!1,null,"12f8fd25",null);t["default"]=u.exports},"8aa5":function(e,t,r){"use strict";var a=r("6547").charAt;e.exports=function(e,t,r){return t+(r?a(e,t).length:1)}},9263:function(e,t,r){"use strict";var a=r("c65b"),n=r("e330"),s=r("577e"),i=r("ad6d"),o=r("9f7f"),c=r("5692"),l=r("7c73"),u=r("69f3").get,d=r("fce3"),p=r("107c"),h=c("native-string-replace",String.prototype.replace),f=RegExp.prototype.exec,b=f,m=n("".charAt),g=n("".indexOf),v=n("".replace),x=n("".slice),w=function(){var e=/a/,t=/b*/g;return a(f,e,"a"),a(f,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),k=o.BROKEN_CARET,y=void 0!==/()??/.exec("")[1],C=w||y||k||d||p;C&&(b=function(e){var t,r,n,o,c,d,p,C=this,_=u(C),E=s(e),I=_.raw;if(I)return I.lastIndex=C.lastIndex,t=a(b,I,E),C.lastIndex=I.lastIndex,t;var A=_.groups,S=k&&C.sticky,O=a(i,C),N=C.source,T=0,P=E;if(S&&(O=v(O,"y",""),-1===g(O,"g")&&(O+="g"),P=x(E,C.lastIndex),C.lastIndex>0&&(!C.multiline||C.multiline&&"\n"!==m(E,C.lastIndex-1))&&(N="(?: "+N+")",P=" "+P,T++),r=new RegExp("^(?:"+N+")",O)),y&&(r=new RegExp("^"+N+"$(?!\\s)",O)),w&&(n=C.lastIndex),o=a(f,S?r:C,P),S?o?(o.input=x(o.input,T),o[0]=x(o[0],T),o.index=C.lastIndex,C.lastIndex+=o[0].length):C.lastIndex=0:w&&o&&(C.lastIndex=C.global?o.index+o[0].length:n),y&&o&&o.length>1&&a(h,o[0],r,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(o[c]=void 0)})),o&&A)for(o.groups=d=l(null),c=0;c<A.length;c++)p=A[c],d[p[0]]=o[p[1]];return o}),e.exports=b},"9f7f":function(e,t,r){var a=r("d039"),n=r("da84"),s=n.RegExp,i=a((function(){var e=s("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),o=i||a((function(){return!s("a","y").sticky})),c=i||a((function(){var e=s("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:c,MISSED_STICKY:o,UNSUPPORTED_Y:i}},ac1f:function(e,t,r){"use strict";var a=r("23e7"),n=r("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},b02a:function(e,t,r){},d1e2:function(e,t,r){"use strict";r("b02a")},d784:function(e,t,r){"use strict";r("ac1f");var a=r("e330"),n=r("cb2d"),s=r("9263"),i=r("d039"),o=r("b622"),c=r("9112"),l=o("species"),u=RegExp.prototype;e.exports=function(e,t,r,d){var p=o(e),h=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),f=h&&!i((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[l]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return t=!0,null},r[p](""),!t}));if(!h||!f||r){var b=a(/./[p]),m=t(p,""[e],(function(e,t,r,n,i){var o=a(e),c=t.exec;return c===s||c===u.exec?h&&!i?{done:!0,value:b(t,r,n)}:{done:!0,value:o(r,t,n)}:{done:!1}}));n(String.prototype,e,m[0]),n(u,p,m[1])}d&&c(u[p],"sham",!0)}},fce3:function(e,t,r){var a=r("d039"),n=r("da84"),s=n.RegExp;e.exports=a((function(){var e=s(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);